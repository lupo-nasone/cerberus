@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;700&display=swap');

:root{
  /* Light theme palette (from provided logo colors) */
  --bg: #F8F9FB; /* Background principale */
  --fg: #1E1E1E; /* Testo primario */
  --muted: #555555; /* Testo secondario */
  /* fallback rgb used by JS color-extractor; will be overridden on load */
  --logo-rgb: 176, 54, 156; /* fallback near #B0369C */

  /* button text color (kept white for contrast) */
  --btn-text: #FFFFFF;

  /* brand colors (magenta -> blue gradient) */
  --brand-magenta: #B0369C; /* Primary Gradient Start */
  --brand-700: #ff3b30; /* Primary (start) - orange/red */
  --brand-500: #ff6b3c; /* Primary (end) */
  --brand-300: #ff9478;
  --accent: #ff482f; /* Accent hover */
  --accent-600: #e03b22;
  --card-border: #E0E0E0; /* Bordi leggeri / linee */
  --muted-2: #9AA3AD;

  /* gradients */
  --gradient-primary: linear-gradient(90deg,var(--brand-700),var(--brand-500));
  --gradient-soft: linear-gradient(180deg, rgba(var(--logo-rgb),0.06), rgba(var(--logo-rgb),0.02));
  --gradient-cta: linear-gradient(90deg,var(--brand-700),var(--brand-500) 60%);
  --cta-green: linear-gradient(90deg,#2f9b4f,#2b8a47);
}
/* surface colors and header/footer backgrounds (light theme) */
:root {
  --surface: #FFFFFF; /* Card / Sezioni */
  --header-bg: #FFFFFF; /* Header bianco */
  --footer-bg: linear-gradient(180deg, #fbfbfd, #f7f9fc);
}

/* Dark theme variables (apply with [data-theme="dark"]) */
[data-theme="dark"]{
  /* Dark theme palette (as requested) */
  --bg: #0E0E16; /* Background principale scuro */
  --fg: #F2F2F2; /* Testo primario */
  --muted: #A6A6A6; /* Testo secondario */
  --muted-2: #8F8F98;

  --brand-magenta: #C34BB4; /* Primary Gradient Start (dark) */
  --brand-700: #ff6b3c; /* start (dark adjusted) */
  --brand-500: #ff4b2e; /* end */
  --brand-300: #ff9478;
  --accent: #ff5a3c; /* Accent hover/glow */
  --accent-600: #e64b2d;
  --card-border: #2E2E3B; /* Bordi leggeri / linee */

  /* dark theme surfaces */
  --surface: #1A1A26; /* Card / sezioni */
  --header-bg: #0E0E16; /* Navbar scura */
  --footer-bg: linear-gradient(180deg, #0b0c12, #0e0e16);
}

/* Dark-theme-specific button glow on hover (subtle) */
[data-theme="dark"] .btn-primary:hover {
  box-shadow: 0 0 8px var(--accent);
}

/* General elements adapt to theme */
body{background:var(--bg);color:var(--fg)}
.site-header{background:var(--header-bg)}
.card{background:var(--surface)}

/* Remove underline from all links by default; specific hover/outline styles keep accessibility */
a{ text-decoration: none; }

*{box-sizing:border-box}
html,body,#__next{height:100%}
body{
  margin:0;
  font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background:var(--bg);
  color:var(--fg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Layout helpers */
.container{max-width:1200px;margin:0 auto;padding-left:calc(20px + env(safe-area-inset-left));padding-right:calc(20px + env(safe-area-inset-right));}
.grid{display:grid;gap:24px}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
.grid.cols-2{grid-template-columns:repeat(2,1fr)}

/* Header */
.site-header{position:sticky;top:0;margin-top:0;background:var(--header-bg);backdrop-filter:blur(6px);border-bottom:1px solid var(--card-border);z-index:40;padding:8px 12px}
.site-header .wrap{display:flex;align-items:center;justify-content:space-between;min-height:64px}

/* Top dark bar (compact) like the reference site */
.topbar{background: #0f1113;color: #fff;border-bottom:1px solid rgba(255,255,255,0.03);position:relative}
.topbar .container{max-width:1200px;margin:0 auto;padding:10px 18px}
.topbar-row{display:flex;align-items:center;justify-content:space-between}
.nav-left{display:flex;gap:20px;align-items:center}
.topbar .top-link{color:rgba(255,255,255,0.95);margin:0;font-weight:700;font-size:clamp(13px,1.2vw,16px)}
.topbar .top-link:hover{color:var(--brand-300);text-decoration:none}
.top-cta{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:8px 12px;border-radius:8px;color:#fff;font-weight:700}
.top-cta:hover{background:rgba(255,255,255,0.03)}
.brand-row{display:none}

/* topbar inline logo style - more visible */
.top-logo-link{display:inline-flex;align-items:center;justify-content:center;margin-right:14px;margin-left:0}
.top-logo{height:56px;width:auto;display:block;background:#ffffff;padding:8px 10px;border-radius:8px;border:0;box-shadow:0 10px 28px rgba(0,0,0,0.28)}
.top-logo:focus{outline:3px solid rgba(255,255,255,0.06)}

/* Hamburger toggle (hidden on wide screens) */
.hamburger-toggle{display:none;background:transparent;border:0;color:inherit;font-size:20px;padding:8px;border-radius:8px;cursor:pointer}
.hamburger-icon{font-size:20px;line-height:1}

/* ensure header sticks to top */
.site-header{position:sticky;top:0;z-index:60}

/* language toggle positioned in the top-right */
.lang-toggle{position:absolute;right:12px;top:10px;padding:8px 10px;border-radius:8px;border:1px solid var(--card-border);background:transparent;color:var(--fg);cursor:pointer;font-weight:600;min-width:50px;text-align:center}
.site-header .wrap{position:relative}
.brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:var(--fg)}
.brand .brand-logo{width:64px;height:64px;border-radius:12px;display:inline-block;overflow:hidden;box-shadow:0 8px 24px rgba(0,0,0,0.08);border:1px solid var(--card-border);background:var(--surface);padding:8px;object-fit:contain}
.brand .brand-logo, .brand .brand-logo[src] { display:inline-block }
.brand-name{color:var(--brand-700);font-weight:700}
.nav{display:flex;gap:18px;align-items:center}
.nav a{color:var(--muted);text-decoration:none;transition:color .14s}
.nav a:hover{color:var(--brand-700)}
.nav .cta{padding:8px 12px;border-radius:8px;border:1px solid var(--brand-300);color:var(--brand-900);background:transparent}

/* Hero */
.hero{padding:64px 0;display:flex;align-items:center;gap:40px}
.intro-grid{display:grid;grid-template-columns:1fr 420px;gap:24px;align-items:center}
.intro-section{padding-top:0;padding-bottom:0}
@media (max-width:900px){
  .intro-grid{grid-template-columns:1fr;padding-left:6px;padding-right:6px}
  .intro-grid aside{margin-top:16px}
}

/* Make the topbar links wrap under the logo on medium/smaller screens so they don't overlap the hero
   â€” instead of hiding them, they will flow beneath the logo (like the reference mobile screenshot). */
@media (max-width:900px){
  .topbar-row{flex-direction:row;align-items:center;justify-content:space-between}
  /* hide the inline primary links on smaller screens and show hamburger */
  .primary-links{display:none}
  .hamburger-toggle{display:inline-flex}
  .top-logo{height:48px;padding:6px}
  .top-right{align-self:center}
}

/* Mobile nav dropdown (appears when hamburger toggled) */
.mobile-nav{display:none;background:var(--header-bg);border-top:1px solid var(--card-border);box-shadow:0 10px 30px rgba(0,0,0,0.06);position:relative}
.mobile-nav.open{display:block}
.mobile-nav .mobile-links{display:flex;flex-direction:column;gap:6px;padding:12px 0}
.mobile-nav .mobile-link{display:block;padding:10px 12px;color:var(--fg);font-weight:700}
.mobile-nav .mobile-link.mobile-cta{background:transparent;border:1px solid rgba(0,0,0,0.06);border-radius:8px;margin-top:6px;padding:10px 12px}

/* CTA banner responsive */
.cta-banner{border-radius:12px;padding:24px;background-image:var(--cta-green);color:var(--btn-text);display:flex;align-items:center;justify-content:space-between;gap:16px}
@media (max-width:640px){
  .cta-banner{flex-direction:column;align-items:stretch}
  .cta-banner .btn{width:100%}
}
.hero .left{flex:1}
.hero h1{font-family:'Poppins', 'Inter', sans-serif;font-size:36px;margin:0 0 18px;line-height:1.05}
.hero p{color:var(--muted);font-size:18px;margin:0 0 20px;max-width:56ch}
.hero .ctas{display:flex;gap:28px;flex-wrap:wrap}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:14px 28px;border-radius:12px;border:0;cursor:pointer;font-weight:600;line-height:1.15;min-height:52px;transition:transform .12s,box-shadow .12s,background .18s,color .18s}
.btn-secondary{background:rgba(255,255,255,0.55);color:var(--brand-700);border:1px solid rgba(var(--logo-rgb),0.16);}
.btn-secondary:hover{transform:translateY(-3px);box-shadow:0 18px 40px rgba(var(--logo-rgb),0.14);background:rgba(255,255,255,0.85)}
/* Solid brand primary button for stronger, cleaner look */
.btn-primary{background-image:var(--gradient-cta);background-size:200% 100%;background-position:0 0;color:var(--btn-text);box-shadow:0 14px 34px rgba(var(--logo-rgb),0.14);border:1px solid rgba(var(--logo-rgb),0.12);}
.btn-primary:hover{transform:translateY(-3px);box-shadow:0 26px 60px rgba(var(--logo-rgb),0.2);background:var(--accent);background-image:none}
.btn-ghost{background:transparent;border:1px solid var(--brand-300);color:var(--brand-700)}

.hero .right{width:100%;max-width:420px}
.card{background:var(--surface);border:1px solid var(--card-border);border-radius:12px;padding:20px;box-shadow:0 6px 18px rgba(16,24,40,0.04);transition:transform .18s,box-shadow .18s;position:relative}
.card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(16,24,40,0.08)}
/* subtle left accent for cards */
.card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:6px;border-top-left-radius:12px;border-bottom-left-radius:12px;background:linear-gradient(180deg,var(--brand-500),var(--brand-700));}

/* Hero visual slot */
.hero-visual{position:relative;border-radius:12px}
.hero-visual .visual-bg{height:220px;border-radius:12px;background:linear-gradient(180deg,rgba(var(--logo-rgb),0.06),rgba(var(--logo-rgb),0.03));background-size:cover;background-position:center;filter:contrast(.98) saturate(.9)}
.hero-visual .card{position:relative;margin-top:-60px}
.hero-visual .visual-bg::after{content:'';position:absolute;left:0;right:0;bottom:0;height:60px;background:linear-gradient(180deg,rgba(0,0,0,0),var(--bg));border-bottom-left-radius:12px;border-bottom-right-radius:12px}

/* New full-bleed hero inspired layout */
.hero-full{position:relative;overflow:hidden}
.hero-bg{position:relative;padding:8px 0 80px}
.hero-bg-image{position:absolute;inset:0;background-size:cover;background-position:center;filter:blur(6px) saturate(.9) brightness(.9);opacity:.98}
.hero-flank{position:absolute;bottom:0;width:580px;/* attach to bottom of decorative background */object-fit:contain;border-radius:0;box-shadow:none;filter:none;z-index:6}
.hero-flank-left{left:8%;transform:translateX(4%);} 
.hero-flank-right{right:8%;transform:translateX(-4%);} 

/* default desktop: hero-flanks container positions the two images anchored to the bottom of the hero background */
.hero-flanks{position:absolute;left:0;right:0;bottom:0;height:auto;pointer-events:none;z-index:6}
.hero-flanks .hero-flank{position:absolute;bottom:0;margin:0}
.hero-flanks .hero-flank-left{left:4%;transform:translateX(8%);}
.hero-flanks .hero-flank-right{right:4%;transform:translateX(-8%);}
.hero-center{position:relative;display:flex;justify-content:center;align-items:flex-end}
.hero-center-card{width:720px;max-width:92%;background:var(--surface);border-radius:12px;padding:56px 48px;text-align:center;border:0;box-shadow:0 30px 60px rgba(16,24,40,0.12);z-index:2;position:relative;margin-bottom:0}
.hero-center-card .hero-sub{min-height:110px}
.hero-title{font-family:'Poppins', sans-serif;font-size:72px;line-height:0.95;letter-spacing:-2px;margin:8px 0 8px;text-transform:uppercase}
.hero-title-accent{display:inline-block;margin-right:8px;background:var(--brand-700);padding:6px 10px;border-radius:6px;color:#fff;font-weight:800}
.hero-sub{color:var(--muted);max-width:46ch;margin:0 auto}
.eyebrow{font-weight:600;color:var(--muted);margin-bottom:8px}

.hero-ctas{display:flex;flex-wrap:wrap;gap:32px;margin-top:32px;justify-content:center;padding:0 32px 16px}

@media (min-width:900px){
  .hero-center-card{min-height:520px}
  .hero-ctas{justify-content:center}
  .hero-ctas .btn{min-width:260px;text-align:center}
}

/* big red CTA used in hero */
.btn-hero{background:var(--brand-700);color:var(--btn-text);padding:12px 26px;border-radius:28px;font-weight:700;box-shadow:0 12px 30px rgba(0,0,0,0.18);border:0}
.btn-hero:hover{transform:translateY(-2px);opacity:.96}

/* service-card overlay: large uppercase title centered like screenshot */
.service-card .overlay{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:18px;color:#fff;z-index:2;text-align:center}
.service-card .overlay h4{margin:0;font-size:20px;letter-spacing:1px;text-transform:uppercase;font-weight:800}
.service-card .overlay p{margin-top:6px;color:rgba(255,255,255,0.9);font-size:13px}


@media (max-width:900px){
  .hero-bg-image{filter:blur(1px) brightness(.95)}

  /* On smaller screens: keep center card first, then show the two flank images side-by-side */
  .hero-bg{display:flex;flex-direction:column;align-items:center}
  .hero-center{order:1;width:100%}
  .hero-center-card{order:1;padding:28px 20px;width:100%;max-width:720px;margin-bottom:28px;padding-left:24px;padding-right:24px}

  /* flanks container becomes a flex row to place images next to each other */
  .hero-flanks{order:2;display:flex;gap:6px;justify-content:center;align-items:flex-start;width:100%;max-width:760px;padding:8px 6px}
  /* slightly larger on small screens and closer together */
  .hero-flanks{order:2;display:flex;gap:4px;justify-content:center;align-items:flex-start;width:100%;max-width:760px;padding:8px 6px}
  .hero-flank{position:relative;display:block;bottom:auto;left:auto;right:auto;transform:none;z-index:2;width:50%;max-width:360px;margin:0}
  .hero-flank-left,.hero-flank-right{width:50%}

  .hero-title{font-size:28px}
}

/* sticky contact bar removed (UI preference) */
/* service card media */
.service-media{height:180px;border-radius:12px 12px 0 0;margin:0;background-size:cover;background-position:center;position:relative;overflow:hidden}
.service-media::after{content:'';position:absolute;left:0;right:0;bottom:0;height:60%;background:linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.6));}

.service-card{background:transparent;border:0;padding:0;border-radius:12px;overflow:hidden}
.service-card .content{padding:16px;background:var(--surface);border-top:1px solid var(--card-border)}
.service-card .overlay{position:absolute;left:0;right:0;bottom:0;padding:14px;color:#fff;z-index:2}
.service-card .overlay h4{margin:0 0 6px;color:#fff}
.service-card .overlay p{margin:0;color:rgba(255,255,255,0.9);font-size:14px}

/* Services */
.services{padding:48px 0;margin-top:-80px}
.services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px}
.service-card{background:var(--surface);border:1px solid var(--card-border);padding:20px;border-radius:10px}
.service-card .icon{width:48px;height:48px;border-radius:10px;background:var(--brand-300);display:flex;align-items:center;justify-content:center;color:var(--brand-700);font-weight:700}
.service-card h4{margin:8px 0 6px}
.service-card p{color:var(--muted);margin:0}

/* Make images / svgs / media scale to their container to avoid overflow */
img, picture, video, svg {
  max-width:100%;
  height:auto;
  display:block;
}

/* Ensure cards and textual content wrap instead of forcing horizontal scroll */
.card, .service-card, .quote {
  max-width:100%;
  overflow-wrap:break-word;
}

/* Small improvement: container should never exceed 100% width */
.container {
  width:100%;
  max-width:1200px;
  margin:0 auto;
  padding-left:calc(20px + env(safe-area-inset-left));
  padding-right:calc(20px + env(safe-area-inset-right));
}

/* Base vertical spacing for main content so it doesn't touch the header/top edge */
main {
  padding-top: 0;
  padding-bottom: 20px;
}

/* Testimonials */
.testimonials{padding:40px 0}
.test-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
.quote{background:var(--surface);padding:18px;border-radius:10px;border:1px solid var(--card-border)}
.quote cite{display:block;margin-top:12px;font-weight:600}

/* Footer */
.site-footer{background:var(--footer-bg);padding:40px 0;margin-top:40px}
.site-footer .foot-wrap{display:flex;justify-content:space-between;gap:20px;align-items:flex-start}
.site-footer p{color:var(--muted);margin:6px 0}
.site-footer h4, .site-footer h5 { color: var(--brand-700); }

/* Animations */
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
.animate-float{animation:float 6s ease-in-out infinite}

@media (max-width:900px){
  .hero{flex-direction:column}
  .hero .right{max-width:100%;width:100%}
  .site-header .wrap{height:56px}
}


/* Improved responsive behaviour for header/nav and hero on small screens: keep all buttons visible in header */
@media (max-width:640px){
  /* Stack header items on small screens to avoid nav overflow */
  .site-header .wrap{
    height:auto;
    padding-left:12px;
    padding-right:12px;
    display:flex;
    flex-direction:column;
    align-items:flex-start;
    gap:8px;
  }

  .brand{width:100%;display:flex;align-items:center;justify-content:flex-start;gap:10px}

  .nav{
    display:flex;
    width:100%;
    gap:8px;
    flex-wrap:wrap;
    align-items:center;
    justify-content:flex-start;
  }

  .nav a{padding:6px 8px;font-size:15px}
  .nav .cta{padding:6px 10px}

  .hero h1{font-size:22px}
  .hero p{font-size:15px}
  .hero{padding:36px 0;gap:18px}
  .hero .ctas{flex-direction:column;align-items:flex-start}
  .hero .ctas .btn{width:100%}

  .site-footer .foot-wrap{flex-direction:column;align-items:flex-start}
}

/* Extra safety: ensure a minimum side padding on very small screens (phones)
   so content never touches the edges. Uses safe-area insets for iPhone notch. */
@media (max-width:480px) {
  .container{padding-left:calc(18px + env(safe-area-inset-left));padding-right:calc(18px + env(safe-area-inset-right));}
  .hero{padding-left:8px;padding-right:8px}
}

@media (max-width:420px){
  .hero-center-card{padding:18px 12px}
  .hero-title{font-size:20px}
  .hero-sub{font-size:14px}
}

/* Extra-small phones (iPhone-like) styling to match reference screenshot */
@media (max-width:430px) {
  /* tighten header */
  .topbar{padding:8px 0}
  .topbar .container{padding-left:12px;padding-right:12px}

  /* logo as white rounded card on the left, slightly overlapping content */
  .top-logo-link{background:#fff;border-radius:12px;padding:8px 10px;display:inline-flex;align-items:center;box-shadow:0 10px 30px rgba(0,0,0,0.18);margin-left:0}
  .top-logo{height:44px;padding:4px;width:auto}

  /* hamburger to the right, visually centered in topbar */
  .hamburger-toggle{display:inline-flex;position:relative;right:0;top:0;background:transparent;border:0;color:#fff;padding:10px;margin-left:0;font-size:22px}

  /* show language toggle on very small screens */
  .lang-toggle{display:inline-flex;position:relative;right:auto;top:auto;padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:#fff;cursor:pointer;font-weight:600}

  /* make header visually separated from hero with a small overlap */
  .site-header{padding:6px 0;border-bottom:1px solid rgba(255,255,255,0.04)}

  /* Hero title larger and condensed to match screenshot */
  .hero-title{font-size:44px;line-height:0.95;letter-spacing:-1px;margin-top:6px;margin-bottom:6px}
  .hero-title-accent{padding:4px 8px;font-size:24px}
  .hero-sub{font-size:15px;padding:0 12px}

  /* make center card background transparent-ish and full width feel */
  .hero-center-card{background:transparent;border-radius:0;padding:12px 16px;box-shadow:none;margin-bottom:20px}

  /* flank images: keep them side-by-side, larger, and centered under the title */
  /* on very small phones bring the flanks a touch closer to center */
  .hero-flanks{max-width:96%;padding:0;margin:0;gap:2px}
  .hero-flank{width:52%;max-width:240px;border-radius:0}
  .hero-flank img{display:block}

  /* fixed CTA at bottom similar to screenshot */
  .fixed-cta-mobile{position:fixed;left:12px;right:12px;bottom:12px;background:var(--brand-700);color:var(--btn-text);padding:14px 18px;border-radius:10px;display:flex;align-items:center;justify-content:center;z-index:200}
  .fixed-cta-mobile .avatar{position:absolute;right:14px;bottom:8px;width:44px;height:44px;border-radius:999px;border:4px solid rgba(255,255,255,0.12)}
}

@media (max-width:640px) {
  main { padding-top: calc(14px + env(safe-area-inset-top)); padding-bottom: 14px; }
}

/* Contact page layout */

/* On small phones ensure the flank images are rendered below the hero card and do not overlap text */
@media (max-width:640px) {
  /* On small screens attach the person images to the bottom of the hero background
     and render the hero card transparent so the images sit visually against the scene.
     The card is kept on a higher z-index so its text stays readable on top of images. */
  .hero-center-card{
    padding-left:20px;padding-right:20px;margin-bottom:28px;box-sizing:border-box;
    background:transparent;box-shadow:none;z-index:3;color:#fff;text-shadow:0 6px 18px rgba(0,0,0,0.6)
  }

  /* Place the flank images absolutely at the bottom of the hero so they "stick" to the background */
  .hero-flanks{position:absolute;left:0;right:0;bottom:0;display:flex;gap:8px;justify-content:center;align-items:flex-end;padding:0;margin:0;pointer-events:none;z-index:2}
  .hero-flanks .hero-flank{position:relative;bottom:0;left:auto;right:auto;transform:none;width:60%;max-width:360px;margin:0}
}

  .questions-grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));padding-left:12px;padding-right:12px;}
  @media (min-width:900px){
    .questions-grid{grid-template-columns:repeat(3,minmax(0,1fr));}
  }
  .question-image-wrapper{width:100%;padding:12px;background:rgba(16,24,40,0.03);border-radius:12px;margin-bottom:16px;display:flex;justify-content:center;align-items:center;}
  .question-image{width:100%;max-width:240px;height:auto;object-fit:contain;display:block;}

/* stronger blur and contrast for small screens to improve text readability */
@media (max-width:640px) {
  .hero-bg-image{filter:blur(10px) saturate(.85) brightness(.75)}

  /* make the hero text more readable on top of the image */
  .hero-center-card{background:rgba(0,0,0,0.45);color:var(--btn-text);padding-top:24px;padding-bottom:24px}
  .hero-title{color:#fff;text-shadow:0 6px 18px rgba(0,0,0,0.6)}
  .hero-title-accent{background:#ff6b3c;color:#fff}
  .hero-sub{color:rgba(255,255,255,0.9)}
  .btn-primary{box-shadow:0 12px 30px rgba(0,0,0,0.3)}
  }

  /* Scroll reveal utility */
  .reveal{opacity:0;transform:translateY(28px);transition-property:opacity,transform,filter;transition-duration:.7s;transition-timing-function:cubic-bezier(.23,1,.32,1);transition-delay:var(--reveal-delay,0ms);will-change:opacity,transform,filter;filter:blur(6px)}
  .reveal.fade-right{transform:translateX(-32px)}
  .reveal.fade-left{transform:translateX(32px)}
  .reveal.fade-scale{transform:scale(.92)}
  .reveal.is-visible{opacity:1;transform:none;filter:none}

  /* extra-small phones: slightly larger images and slightly stronger blur */
@media (max-width:430px) {
  /* even stronger attachment and slightly larger images on very small phones */
  .hero-flanks .hero-flank{width:72%;max-width:420px}
  .hero-bg-image{filter:blur(12px) saturate(.8) brightness(.7)}
  .hero-center-card{padding-left:18px;padding-right:18px}
}
.contact-grid{display:grid;grid-template-columns:1fr 340px;gap:20px;align-items:start}
.contact-form{display:grid;gap:12px}
.form-field{display:block}
.form-field label{display:block;font-weight:600;margin-bottom:6px}
.form-control{width:100%;padding:10px;border-radius:8px;border:1px solid var(--card-border);background:var(--surface);color:var(--fg)}
.form-control:focus{outline:2px solid rgba(17,96,166,0.12);box-shadow:0 6px 18px rgba(17,96,166,0.06)}

.contact-aside .card{padding:16px}

/* Link styles for contact page (theme-aware) */
.contact-aside a,
.contact-form a {
  color: var(--brand-700);
  text-decoration: none;
  transition: color .14s, box-shadow .14s, transform .12s;
}
.contact-aside a:hover,
.contact-form a:hover {
  color: var(--accent);
  text-decoration-color: transparent;
  transform: translateY(-1px);
}
.contact-aside a:focus,
.contact-form a:focus {
  outline: 3px solid var(--accent);
  outline-offset: 3px;
}

@media (max-width:900px){
  .contact-grid{grid-template-columns:1fr}
  .contact-aside{order:2}
  .contact-form{order:1}
  .btn{width:100%}
}

/* Chat widget styles */
.chat-widget{position:fixed;right:calc(12px + env(safe-area-inset-right, 0px));bottom:18px;left:auto;width:auto;z-index:100}
.chat-toggle{width:52px;height:52px;border-radius:999px;border:0;background:var(--brand-700);color:var(--btn-text);display:flex;align-items:center;justify-content:center;box-shadow:0 12px 36px rgba(0,0,0,0.18);cursor:pointer;transition:transform .18s,opacity .18s}
.chat-toggle img{width:44px;height:44px;border-radius:999px;object-fit:cover}
.chat-window{
  /* closed state: small circular bubble matching the toggle */
  position:absolute;right:0;bottom:0;
  width:52px;height:52px;border-radius:999px;overflow:hidden;display:flex;flex-direction:column;
  box-shadow:0 6px 18px rgba(0,0,0,0.12);background:linear-gradient(90deg,var(--brand-700),var(--brand-500));
  transform:translateY(0) scale(1);opacity:1;pointer-events:none;
  transition:width .30s cubic-bezier(.2,.9,.18,1),height .30s cubic-bezier(.2,.9,.18,1),border-radius .22s,box-shadow .24s,background .22s,transform .28s;
  transform-origin:bottom right;z-index:110;
}

.chat-widget.open .chat-window{
  /* expanded state: full panel */
  width:320px;height:420px;border-radius:18px;background:var(--surface);box-shadow:0 24px 60px rgba(0,0,0,0.22);pointer-events:auto;overflow:visible;
}
.chat-header{background:var(--brand-700);color:var(--btn-text);padding:12px 14px;display:flex;justify-content:space-between;align-items:center}
.chat-sub{font-size:12px;opacity:.95}
.chat-close{background:transparent;border:0;color:inherit;font-size:16px;cursor:pointer}
.chat-messages{flex:1;overflow:auto;padding:12px;display:flex;flex-direction:column;gap:8px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent)}
.chat-message{display:flex}
.chat-message.bot{justify-content:flex-start}
.chat-message.user{justify-content:flex-end}
.chat-bubble{max-width:78%;padding:10px 12px;border-radius:12px;background:var(--surface);color:var(--fg);box-shadow:0 8px 20px rgba(16,24,40,0.06)}
.chat-message.bot .chat-bubble{background:var(--surface);}
.chat-message.user .chat-bubble{background:var(--brand-700);color:var(--btn-text)}
.chat-input-row{display:flex;border-top:1px solid var(--card-border);padding:8px;background:var(--surface)}
.chat-input-row input{flex:1;padding:10px;border-radius:8px;border:1px solid var(--card-border);margin-right:8px}
.chat-send{background:var(--brand-700);color:var(--btn-text);border:0;padding:8px 12px;border-radius:8px;cursor:pointer}

@media (max-width:640px){
  /* Only expand the chat to fullscreen on small screens when it is opened */
  .chat-widget.open .chat-window{width:92vw;height:56vh;right:4vw}
  .chat-toggle{width:48px;height:48px}
}

/* Ensure on wider screens the chat toggle stays at the right edge (not centered) */
@media (min-width:641px){
  .chat-widget{right:calc(12px + env(safe-area-inset-right, 0px));left:auto;bottom:18px;width:auto;pointer-events:auto}
  .chat-toggle{position:relative}
}

/* subtle transform so the chat visually 'grows' from the button */
.chat-widget .chat-toggle { transform-origin: center; z-index:120; }
.chat-widget.open .chat-toggle { transform: scale(.85); opacity: 0; pointer-events:none; }

/* hide internal content while closed so it doesn't overflow the small bubble */
.chat-widget:not(.open) .chat-window .chat-header,
.chat-widget:not(.open) .chat-window .chat-messages,
.chat-widget:not(.open) .chat-window .chat-input-row {
  display:none;
}

/* prompt removed: chat now expands from the toggle with animation */

/* Mobile-specific: make chat full-screen on very small devices and keep input sticky above keyboard */
@media (max-width:420px){
  /* Expand the chat to a large panel only when open on very small devices */
  .chat-widget.open .chat-window{width:92vw;right:4vw;left:auto;bottom:12px;height:62vh;border-radius:12px;transform:none}
  /* hide the floating toggle when the chat is open (so user can open it on mobile) */
  .chat-widget.open .chat-toggle{display:none}
  .chat-messages{padding-bottom:12px}
  .chat-input-row{position:sticky;bottom:0;z-index:6;border-top:1px solid var(--card-border);background:var(--surface);padding:10px}
}

/* overlap CTA placed under hero */
.overlap-cta{position:relative;margin-top:-60px;pointer-events:auto}
.cta-banner.overlap{max-width:880px;margin:0 auto;padding:18px 28px;box-shadow:0 14px 40px rgba(23,23,23,0.18);border-radius:12px}

/* Brand gradient text utility */
.brand-grad-text{background-image:var(--gradient-primary);-webkit-background-clip:text;background-clip:text;color:transparent}

/* Slight decorative gradient overlay for hero right card */
.hero .right .card{background-image:var(--gradient-soft)}

